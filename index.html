<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <title>Gi√°ng Sinh c√πng Phile</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-height: 100vh;
      overflow: hidden;
      font-family: Poppins, system-ui, sans-serif;
      color: #fff;
      background: radial-gradient(circle at top, #233044, #05060a 65%, #000 100%);
    }

    /* L·ªöP N·ªÄN M·ªú + SAO NH·∫§P NH√ÅY */
    .bg-stars {
      position: fixed;
      inset: 0;
      background-image:
        radial-gradient(2px 2px at 20% 30%, rgba(255, 255, 255, 0.7) 0, transparent 40%),
        radial-gradient(2px 2px at 80% 20%, rgba(255, 255, 255, 0.6) 0, transparent 40%),
        radial-gradient(2px 2px at 60% 80%, rgba(255, 255, 255, 0.6) 0, transparent 40%),
        radial-gradient(2px 2px at 10% 70%, rgba(255, 255, 255, 0.5) 0, transparent 40%);
      opacity: 0.5;
      pointer-events: none;
      animation: twinkle 6s linear infinite;
      z-index: 0;
    }

    @keyframes twinkle {

      0%,
      100% {
        opacity: 0.4;
      }

      50% {
        opacity: 0.9;
      }
    }

    /* TUY·∫æT R∆†I */
    .snow {
      position: fixed;
      top: -10px;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #fff;
      opacity: 0.8;
      filter: drop-shadow(0 0 6px rgba(255, 255, 255, 0.7));
      pointer-events: none;
      z-index: 2;
      animation: snowFall linear infinite;
    }

    @keyframes snowFall {
      0% {
        transform: translate3d(0, -10px, 0);
      }

      100% {
        transform: translate3d(var(--dx), 110vh, 0);
        opacity: 0;
      }
    }

    /* L·ªöP CH√ÄO ƒê·∫¶U */
    #welcomeBanner {
      position: fixed;
      inset: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      background: rgba(0, 0, 0, 0.8);
      z-index: 200;
      text-align: center;
      padding: 0 18px;
      animation: welcomeFade 4s ease-out forwards;
      pointer-events: none;
    }

    #welcomeBanner span {
      font-size: clamp(22px, 4vw, 34px);
      font-weight: 700;
      line-height: 1.4;
      background: linear-gradient(90deg, #ff4e50, #f9d423, #24c6dc, #b24592, #ff4e50);
      background-size: 250%;
      -webkit-background-clip: text;
      color: transparent;
      animation: welcomeTextMove 5s linear infinite;
    }

    @keyframes welcomeFade {
      0% {
        opacity: 0;
      }

      10% {
        opacity: 1;
      }

      80% {
        opacity: 1;
      }

      100% {
        opacity: 0;
        visibility: hidden;
      }
    }

    @keyframes welcomeTextMove {
      0% {
        background-position: 0%;
      }

      100% {
        background-position: 100%;
      }
    }

    /* LAYOUT CHUNG */
    .page {
      position: relative;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      z-index: 1;
    }

    header {
      padding: 14px 8vw;
      display: flex;
      align-items: center;
      justify-content: space-between;
      backdrop-filter: blur(10px);
      background: linear-gradient(90deg, rgba(3, 10, 25, 0.9), rgba(9, 15, 35, 0.4));
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .brand-logo {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: radial-gradient(circle, #ff4e50, #b31217);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
    }

    .brand-text {
      display: flex;
      flex-direction: column;
      font-size: 14px;
    }

    .brand-text span:first-child {
      font-weight: 700;
      letter-spacing: .05em;
    }

    .brand-text span:last-child {
      font-size: 11px;
      opacity: .7;
    }

    .top-actions {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .btn {
      border: none;
      padding: 6px 14px;
      border-radius: 999px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: rgba(255, 255, 255, 0.08);
      color: #fff;
      transition: all .2s;
    }

    .btn-primary {
      background: linear-gradient(135deg, #ff4e50, #f9d423);
      color: #000;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.5);
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.6);
    }

    main {
      flex: 1;
      display: grid;
      grid-template-columns: minmax(0, 3fr) minmax(0, 2.6fr);
      padding: 40px 8vw 30px;
      gap: 40px;
      align-items: center;
    }

    @media (max-width: 900px) {
      main {
        grid-template-columns: 1fr;
        padding: 24px 16px 40px;
      }

      header {
        padding: 10px 16px;
      }
    }

    /* KHU C√ÇY TH√îNG + CARD B√äN TR√ÅI */
    .scene {
      text-align: center;
      position: relative;
    }

    .glass-card {
      position: relative;
      padding: 20px 22px 26px;
      border-radius: 22px;
      backdrop-filter: blur(18px);
      background: radial-gradient(circle at top, rgba(255, 255, 255, 0.16), rgba(10, 15, 35, 0.9));
      box-shadow: 0 22px 60px rgba(0, 0, 0, 0.75);
      border: 1px solid rgba(255, 255, 255, 0.15);
    }

    .scene-glow {
      position: absolute;
      inset: auto;
      width: 260px;
      height: 60px;
      background: radial-gradient(circle at center, rgba(0, 255, 153, 0.7), transparent 65%);
      filter: blur(14px);
      left: 50%;
      transform: translateX(-50%);
      bottom: 8px;
      opacity: .7;
      z-index: -1;
    }

    /* C√ÇY TH√îNG ƒê·∫∏P H∆†N */
    .tree-wrapper {
      position: relative;
      width: 340px;
      height: 460px;
      cursor: pointer;
      margin: 0 auto;
      transition: transform 0.25s;
      filter: drop-shadow(0 0 20px rgba(0, 255, 160, 0.45));
    }

    .tree-wrapper:hover {
      transform: scale(1.04) translateY(-4px);
    }

    .tree-wrapper.shake {
      animation: shakeTree 0.4s ease;
    }

    @keyframes shakeTree {
      0% {
        transform: translateX(0) scale(1.04);
      }

      25% {
        transform: translateX(-6px) scale(1.04);
      }

      50% {
        transform: translateX(6px) scale(1.04);
      }

      75% {
        transform: translateX(-3px) scale(1.04);
      }

      100% {
        transform: translateX(0) scale(1.04);
      }
    }

    .tree {
      position: absolute;
      left: 50%;
      top: 50px;
      transform: translateX(-50%);
      width: 300px;
      height: 360px;
      background: linear-gradient(180deg, #28e07a 0%, #0c9150 45%, #066339 100%);
      clip-path: polygon(50% 0%,
          8% 26%, 22% 26%, 10% 42%,
          50% 42%,
          90% 42%, 78% 26%, 92% 26%,
          50% 0%,
          16% 58%, 30% 58%, 18% 72%,
          50% 72%,
          82% 72%, 70% 58%, 84% 58%,
          50% 0%);
      border-radius: 12px;
      box-shadow:
        0 0 20px rgba(0, 0, 0, 0.6),
        0 25px 50px rgba(0, 0, 0, 0.8);
      overflow: visible;
      filter: drop-shadow(0 0 30px rgba(0, 255, 170, 0.6));
    }

    .tree::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(130deg, rgba(255, 255, 255, 0.32), transparent 40%);
      opacity: 0.6;
      mix-blend-mode: screen;
      pointer-events: none;
    }

    .tree::after {
      content: "";
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at 20% 20%, #ffe66d 0 4px, transparent 5px),
        radial-gradient(circle at 70% 18%, #ff6b6b 0 4px, transparent 5px),
        radial-gradient(circle at 30% 40%, #4ecdc4 0 4px, transparent 5px),
        radial-gradient(circle at 80% 45%, #f9d423 0 4px, transparent 5px),
        radial-gradient(circle at 25% 65%, #c7f464 0 4px, transparent 5px),
        radial-gradient(circle at 75% 70%, #ff8b94 0 4px, transparent 5px),
        radial-gradient(circle at 50% 32%, #ffffff 0 3px, transparent 4px);
      mix-blend-mode: screen;
      animation: lightsPulse 2.5s ease-in-out infinite;
      pointer-events: none;
    }

    @keyframes lightsPulse {

      0%,
      100% {
        opacity: 0.7;
        filter: drop-shadow(0 0 6px rgba(255, 255, 255, 0.4));
      }

      50% {
        opacity: 1;
        filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.9));
      }
    }

    .trunk {
      width: 60px;
      height: 58px;
      background: linear-gradient(180deg, #7a4a22, #4b2c11);
      border-radius: 8px;
      position: absolute;
      left: 50%;
      bottom: 40px;
      transform: translateX(-50%);
      box-shadow:
        0 8px 20px rgba(0, 0, 0, 0.7),
        inset 0 0 6px rgba(0, 0, 0, 0.4);
    }

    .star {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 40px;
      color: #ffd700;
      animation: pulse 1.5s infinite;
      cursor: pointer;
      filter: drop-shadow(0 0 12px rgba(255, 215, 0, 0.95));
    }

    @keyframes pulse {
      0% {
        transform: translateX(-50%) scale(1);
      }

      50% {
        transform: translateX(-50%) scale(1.3);
      }

      100% {
        transform: translateX(-50%) scale(1);
      }
    }

    .gift-box {
      position: absolute;
      top: 155px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 34px;
      cursor: pointer;
      animation: bounceGift 1.4s ease-in-out infinite;
      filter: drop-shadow(0 0 10px rgba(255, 0, 80, 0.95));
    }

    @keyframes bounceGift {

      0%,
      100% {
        transform: translate(-50%, 0);
      }

      50% {
        transform: translate(-50%, -8px);
      }
    }

    .title {
      margin-top: 16px;
      font-size: 30px;
      font-weight: 800;
      letter-spacing: .05em;
      text-transform: uppercase;
      background: linear-gradient(90deg, #ff4e50, #f9d423, #24c6dc, #b24592, #ff4e50);
      background-size: 300%;
      color: transparent;
      -webkit-background-clip: text;
      animation: textMove 5s linear infinite;
    }

    @keyframes textMove {
      0% {
        background-position: 0%;
      }

      100% {
        background-position: 100%;
      }
    }

    .subtitle {
      margin-top: 6px;
      font-size: 14px;
      opacity: 0.9;
    }

    .helper-text {
      margin-top: 10px;
      font-size: 12px;
      opacity: .75;
    }

    /* Hi·ªáu ·ª©ng r∆°i qu√† */
    .fall-gift {
      position: fixed;
      top: -40px;
      font-size: 30px;
      animation: fallGift 4s linear forwards;
      pointer-events: none;
      z-index: 3;
    }

    @keyframes fallGift {
      0% {
        transform: translateY(-40px) rotate(0deg);
        opacity: 1;
      }

      100% {
        transform: translateY(110vh) rotate(360deg);
        opacity: 0;
      }
    }

    .spark {
      position: absolute;
      width: 6px;
      height: 6px;
      background: yellow;
      border-radius: 50%;
      animation: sparkFly 0.8s ease-out forwards;
      pointer-events: none;
      z-index: 4;
    }

    @keyframes sparkFly {
      from {
        transform: scale(1);
        opacity: 1;
      }

      to {
        transform: translate(var(--x), var(--y)) scale(0.2);
        opacity: 0;
      }
    }

    .confetti {
      position: fixed;
      width: 8px;
      height: 14px;
      background: #ff4e50;
      opacity: 0.9;
      animation: confettiFall 3s ease-out forwards;
      pointer-events: none;
      z-index: 5;
    }

    @keyframes confettiFall {
      0% {
        transform: translateY(-40px) rotate(0deg);
      }

      100% {
        transform: translateY(110vh) rotate(360deg);
        opacity: 0;
      }
    }

    /* MODAL H·ªòP QU√Ä */
    .gift-modal {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 50;
      backdrop-filter: blur(3px);
    }

    .gift-modal.active {
      display: flex;
    }

    .gift-modal-content {
      background: linear-gradient(135deg, #2a2a72, #009ffd);
      padding: 20px 24px 18px;
      border-radius: 16px;
      max-width: 320px;
      text-align: center;
      position: relative;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
      animation: popIn 0.3s ease-out;
    }

    @keyframes popIn {
      from {
        transform: scale(0.7) translateY(20px);
        opacity: 0;
      }

      to {
        transform: scale(1) translateY(0);
        opacity: 1;
      }
    }

    .gift-modal-close {
      position: absolute;
      top: 8px;
      right: 10px;
      cursor: pointer;
      font-size: 20px;
    }

    .gift-modal h2 {
      margin-top: 8px;
      margin-bottom: 8px;
      font-size: 20px;
    }

    #giftText {
      font-size: 15px;
      line-height: 1.5;
      margin-bottom: 12px;
    }

    #openGiftBtn {
      border: none;
      padding: 8px 14px;
      border-radius: 999px;
      background: #ffb347;
      color: #000;
      font-weight: 600;
      cursor: pointer;
      font-size: 14px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    }

    #openGiftBtn:hover {
      transform: translateY(-1px);
    }

    /* PANEL TH√îNG TIN B√äN PH·∫¢I */
    .info-panel {
      display: flex;
      flex-direction: column;
      gap: 18px;
    }

    .hero-title {
      font-size: 32px;
      font-weight: 800;
      line-height: 1.2;
    }

    .hero-title span {
      color: #ffd66b;
    }

    .hero-text {
      font-size: 14px;
      opacity: 0.85;
      margin-top: 6px;
      max-width: 420px;
    }

    .chips {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
    }

    .chip {
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.25);
      font-size: 11px;
      opacity: 0.9;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: rgba(12, 18, 40, 0.8);
    }

    .cards {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 14px;
      margin-top: 10px;
    }

    @media (max-width: 600px) {
      .cards {
        grid-template-columns: 1fr;
      }
    }

    .card {
      padding: 10px 12px;
      border-radius: 14px;
      background: radial-gradient(circle at top left, rgba(255, 255, 255, 0.14), rgba(11, 13, 30, 0.96));
      border: 1px solid rgba(255, 255, 255, 0.16);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.6);
      font-size: 12px;
    }

    .card-title {
      font-weight: 600;
      margin-bottom: 4px;
      font-size: 13px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .countdown {
      display: flex;
      gap: 8px;
      margin-top: 6px;
      flex-wrap: wrap;
    }

    .cd-box {
      min-width: 52px;
      padding: 6px 6px 8px;
      border-radius: 10px;
      background: rgba(5, 8, 20, 0.9);
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.18);
    }

    .cd-num {
      font-size: 16px;
      font-weight: 700;
    }

    .cd-label {
      font-size: 9px;
      opacity: 0.8;
    }

    footer {
      font-size: 11px;
      text-align: center;
      padding-bottom: 10px;
      opacity: 0.65;
    }

    .lucky-envelope {
      position: absolute;
      font-size: 28px;
      cursor: pointer;
      animation: envelopeFloat 2.2s ease-in-out infinite;
      filter: drop-shadow(0 0 8px rgba(255, 60, 60, 0.9));
    }

    /* v·ªã tr√≠ tr√™n c√¢y */
    .lucky-envelope:nth-of-type(1) {
      top: 110px;
      left: 42%;
    }

    .lucky-envelope.small {
      top: 160px;
      left: 58%;
      font-size: 24px;
      animation-duration: 2.6s;
    }

    @keyframes envelopeFloat {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-6px);
      }
    }

    .envelopes {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }

    .lucky-envelope {
      position: absolute;
      font-size: 30px;
      cursor: pointer;
      pointer-events: auto;
      animation: envelopeFloat 2.2s ease-in-out infinite;
      filter: drop-shadow(0 0 10px rgba(255, 50, 50, 0.95));
    }

    /* T·∫¶NG TR√äN */
    .lucky-envelope.e1 {
      top: 95px;
      left: 50%;
      transform: translateX(-50%);
    }

    /* T·∫¶NG GI·ªÆA */
    .lucky-envelope.e2 {
      top: 160px;
      left: 38%;
    }

    /* T·∫¶NG D∆Ø·ªöI */
    .lucky-envelope.e3 {
      top: 225px;
      left: 58%;
    }

    @keyframes envelopeFloat {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-6px);
      }
    }

    .lucky-envelope:hover {
      transform: scale(1.15) rotate(-4deg);
    }
  </style>
</head>

<body>
  <div class="bg-stars"></div>

  <!-- CH·ªÆ CH√ÄO ƒê·∫¶U -->
  <div id="welcomeBanner">
    <span>Phile ch√∫c m·ªçi ng∆∞·ªùi Gi√°ng Sinh an l√†nh nh√© üéÑ</span>
  </div>

  <div class="page">
    <!-- HEADER -->
    <header>
      <div class="brand">
        <div class="brand-logo">‚òÖ</div>
        <div class="brand-text">
          <span>Noel c√πng Phile</span>
        </div>
      </div>

      <div class="top-actions">
        <button class="btn" id="musicToggle">üéµ B·∫≠t nh·∫°c Noel</button>
        <button class="btn btn-primary" id="openGiftHeader">Nh·∫≠n qu√† ngay üéÅ</button>
      </div>
    </header>

    <!-- MAIN -->
    <main>
      <!-- C√ÇY TH√îNG -->
      <section class="scene">
        <div class="glass-card">
          <div class="tree-wrapper" id="treeWrapper">
            <div class="tree" id="tree"></div>
            <div class="trunk"></div>
            <div class="star" id="star">‚òÖ</div>
            <div class="gift-box" id="giftBox">üéÅ</div>
            <div class="lucky-envelope" data-msg="Ch√∫c b·∫°n nƒÉm m·ªõi nhi·ªÅu t√†i l·ªôc üí∞">
              üßß
            </div>

            <div class="lucky-envelope small" data-msg="Ch√∫c b·∫°n h·ªçc gi·ªèi ‚Äì code m∆∞·ª£t ‚Äì bug n√© xa üß†üíª">
              üßß
            </div>
            <div class="gift-modal" id="qrModal">
              <div class="gift-modal-content">
                <div class="gift-modal-close" id="closeQr">√ó</div>
                <h2>üßß L√¨ x√¨ may m·∫Øn</h2>

                <img src="noel.png" alt="QR l√¨ x√¨"
                  style="margin:10px 0;border-radius:10px;background:#fff;padding:6px;" />

                <p id="qrMessage">Ch√∫c b·∫°n nƒÉm m·ªõi an khang ‚Äì v·∫°n s·ª± nh∆∞ √Ω ‚ú®</p>
              </div>
            </div>


          </div>
          <div class="scene-glow"></div>

          <div class="title" id="title">Merry Christmas</div>
          <div class="subtitle" id="subtitle">Click v√†o sao ho·∫∑c h·ªôp qu√† ƒë·ªÉ nh·∫≠n l·ªùi ch√∫c ü§ç</div>
          <div class="helper-text">Click v√†o c√¢y ƒë·ªÉ qu√† r∆°i, click v√†o h·ªôp qu√† ƒë·ªÉ m·ªü qu√† b√≠ m·∫≠t.</div>
        </div>
      </section>

      <!-- PANEL TH√îNG TIN -->
      <section class="info-panel">
        <div>
          <div class="hero-title">
            ƒê√™m <span>Noel</span> Phile <br> g·ª≠i ƒë·∫øn cho b·∫°n.
          </div>
          <div class="chips">
            <div class="chip">‚ú® Hi·ªáu ·ª©ng qu√† r∆°i</div>
            <div class="chip">üéá Ph√°o b√¥ng quanh ng√¥i sao</div>
            <div class="chip">‚ùÑ Tuy·∫øt r∆°i to√†n m√†n h√¨nh</div>
            <div class="chip">üéµ Nh·∫°c Noel b·∫≠t/t·∫Øt</div>
          </div>
        </div>

        <div class="cards">
          <div class="card">
            <div class="card-title">‚è± ƒê·∫øm ng∆∞·ª£c t·ªõi Gi√°ng Sinh</div>
            <p>Th·ªùi gian c√≤n l·∫°i ƒë·∫øn ƒë√™m 24/12 l√∫c 00:00.</p>
            <div class="countdown" id="countdown">
              <div class="cd-box">
                <div class="cd-num" id="cd-days">--</div>
                <div class="cd-label">Ng√†y</div>
              </div>
              <div class="cd-box">
                <div class="cd-num" id="cd-hours">--</div>
                <div class="cd-label">Gi·ªù</div>
              </div>
              <div class="cd-box">
                <div class="cd-num" id="cd-mins">--</div>
                <div class="cd-label">Ph√∫t</div>
              </div>
              <div class="cd-box">
                <div class="cd-num" id="cd-secs">--</div>
                <div class="cd-label">Gi√¢y</div>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-title">üí° G·ª£i √Ω s·ª≠ d·ª•ng</div>
            <ul style="font-size:11px; margin-left:16px; margin-top:4px; line-height:1.5;">
              <li>B·∫≠t nh·∫°c, t·∫Øt ƒë√®n ph√≤ng ‚Üí chill tr∆∞·ªõc khi ng·ªß.</li>
              <li>Share link web cho b·∫°n b√®, b·∫£o ‚Äúweb Noel c·ªßa tui l√†m ƒë√≥‚Äù.</li>
              <li>D√πng l√†m m√†n h√¨nh n·ªÅn tr√¨nh duy·ªát, m·ªü l√™n l√† th·∫•y Noel.</li>
            </ul>
          </div>
        </div>
      </section>
    </main>

    <footer>
      C√πng ƒë√≥n gi√°ng sinh c√πng Phile nh√© , b·∫°n kh√¥ng c√¥ ƒë∆°n!
    </footer>
  </div>

  <!-- MODAL H·ªòP QU√Ä -->
  <div class="gift-modal" id="giftModal">
    <div class="gift-modal-content">
      <div class="gift-modal-close" id="closeGift">√ó</div>
      <h2>Qu√† d√†nh cho b·∫°n üéÅ</h2>
      <p id="giftText">Ch√∫c b·∫°n c√≥ m·ªôt m√πa Noel th·∫≠t ·∫•m √°p v√† b√¨nh an ‚ú®</p>
      <button id="openGiftBtn">M·ªü th√™m qu√†</button>
    </div>
  </div>

  <!-- Nh·∫°c Noel remix -->
  <audio id="bgMusic" controls
    style="position: fixed; bottom: 16px; left: 16px; z-index: 9999; width: 260px; opacity: 0.9;" loop>
    <source
      src="https://cdn.pixabay.com/download/audio/2023/11/21/audio_65078ad27a.mp3?filename=christmas-future-bass-178353.mp3"
      type="audio/mpeg">
    Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ audio.
  </audio>


  <script>
    const giftsEmoji = ["üéÅ", "üéÑ", "üß∏", "üç¨", "üß¶", "‚≠ê", "‚ù§Ô∏è", "‚õÑ", "üç´", "üéß"];

    const treeWrapper = document.getElementById("treeWrapper");
    const star = document.getElementById("star");
    const giftBox = document.getElementById("giftBox");
    const titleEl = document.getElementById("title");
    const subtitleEl = document.getElementById("subtitle");

    const giftModal = document.getElementById("giftModal");
    const giftText = document.getElementById("giftText");
    const closeGift = document.getElementById("closeGift");
    const openGiftBtn = document.getElementById("openGiftBtn");
    const openGiftHeader = document.getElementById("openGiftHeader");

    const musicToggle = document.getElementById("musicToggle");
    const bgMusic = document.getElementById("bgMusic");

    const giftMessages = [
      "G·ª≠i b·∫°n m·ªôt v√© ‚Äòkh√¥ng tr·ªÖ deadline‚Äô trong nƒÉm t·ªõi üòÜ",
      "Ch√∫c b·∫°n lu√¥n gi·ªØ ƒë∆∞·ª£c ƒëam m√™ cu·ªôc s·ªëng üíª‚ù§Ô∏è",
      "Mong m·ªçi d·ª± ƒë·ªãnh c·ªßa b·∫°n ƒë·ªÅu th√†nh c√¥ng ngo√†i mong ƒë·ª£i ‚ú®",
      "T·∫∑ng b·∫°n m·ªôt chi·∫øc khi√™n ch·ªëng 'tr∆∞·ª£t m√¥n' to√†n di·ªán üõ°Ô∏è",
      "Ch√∫c b·∫°n c√≥ th·∫≠t nhi·ªÅu kho·∫£nh kh·∫Øc vui v·∫ª b√™n ng∆∞·ªùi th√¢n üéÑ",
      "Bonus th√™m: t√†i kho·∫£n l√∫c n√†o c≈©ng ƒë·ªß ti·ªÅn c√† ph√™ ‚òï",
      "NƒÉm m·ªõi bug √≠t, l∆∞∆°ng nhi·ªÅu, crush rep nhanh h∆°n server üòé"
    ];

    /* QU√Ä R∆†I KHI CLICK C√ÇY (tr·ª´ khi click sao ho·∫∑c h·ªôp qu√†) */
    treeWrapper.addEventListener("click", (e) => {
      if (e.target === star || e.target === giftBox) return;
      const gift = document.createElement("div");
      gift.className = "fall-gift";
      gift.textContent = giftsEmoji[Math.floor(Math.random() * giftsEmoji.length)];
      gift.style.left = Math.random() * 100 + "vw";
      document.body.appendChild(gift);
      setTimeout(() => gift.remove(), 4500);
    });

    /* CLICK SAO ‚Üí ƒê·ªîI C√ÇU CH√öC + PH√ÅO B√îNG */
    star.addEventListener("click", (e) => {
      e.stopPropagation();
      const sentences = [
        "Ch√∫c b·∫°n code lu√¥n ·∫•m √°p trong m√πa Noel üíª‚ú®",
        "Ch√∫c thi c·ª≠ ƒëi·ªÉm cao, qua h·∫øt t·∫•t c·∫£ c√°c m√¥n üìö",
        "Ch√∫c b·∫°n m√πa Noel tr√†n ƒë·∫ßy ti·∫øng c∆∞·ªùi v√† ni·ªÅm vui üòÜ",
        "Ch√∫c s·ªõm c√≥ ng∆∞·ªùi y√™u ƒëi ch∆°i Noel nha üòèüíñ",
        "Ch√∫c gia ƒë√¨nh b·∫°n lu√¥n m·∫°nh kh·ªèe v√† h·∫°nh ph√∫c üéâ"
      ];
      titleEl.textContent = "Happy Christmas & New Year";
      subtitleEl.textContent = sentences[Math.floor(Math.random() * sentences.length)];

      const rect = star.getBoundingClientRect();
      const cx = rect.left + rect.width / 2;
      const cy = rect.top + rect.height / 2;

      for (let i = 0; i < 22; i++) {
        const spark = document.createElement("div");
        spark.className = "spark";
        spark.style.left = cx + "px";
        spark.style.top = cy + "px";
        spark.style.setProperty("--x", (Math.random() * 260 - 130) + "px");
        spark.style.setProperty("--y", (Math.random() * 260 - 130) + "px");
        spark.style.background = ["#ffe66d", "#ff6b6b", "#4ecdc4", "#c7f464"][Math.floor(Math.random() * 4)];
        document.body.appendChild(spark);
        setTimeout(() => spark.remove(), 800);
      }
    });

    /* H·ªòP QU√Ä ‚Üí MODAL + CONFETTI + RUNG C√ÇY */
    function openGift(randomNew = true) {
      giftModal.classList.add("active");
      if (randomNew) {
        giftText.textContent = giftMessages[Math.floor(Math.random() * giftMessages.length)];
      }

      treeWrapper.classList.add("shake");
      setTimeout(() => treeWrapper.classList.remove("shake"), 400);

      for (let i = 0; i < 80; i++) {
        const conf = document.createElement("div");
        conf.className = "confetti";
        conf.style.left = Math.random() * 100 + "vw";
        conf.style.background = ["#ff4e50", "#f9d423", "#24c6dc", "#b24592"][Math.floor(Math.random() * 4)];
        conf.style.animationDuration = 2.5 + Math.random() * 1.5 + "s";
        document.body.appendChild(conf);
        setTimeout(() => conf.remove(), 3500);
      }
    }

    giftBox.addEventListener("click", (e) => {
      e.stopPropagation();
      openGift(true);
    });

    openGiftHeader.addEventListener("click", () => openGift(true));

    closeGift.addEventListener("click", () => {
      giftModal.classList.remove("active");
    });

    giftModal.addEventListener("click", (e) => {
      if (e.target === giftModal) giftModal.classList.remove("active");
    });

    openGiftBtn.addEventListener("click", () => {
      openGift(true);
    });

    /* TUY·∫æT R∆†I */
    function createSnow() {
      for (let i = 0; i < 80; i++) {
        const snow = document.createElement("div");
        snow.className = "snow";
        snow.style.left = Math.random() * 100 + "vw";
        snow.style.opacity = 0.5 + Math.random() * 0.5;
        snow.style.width = snow.style.height = (4 + Math.random() * 4) + "px";
        snow.style.animationDuration = (5 + Math.random() * 6) + "s";
        snow.style.setProperty("--dx", (Math.random() * 80 - 40) + "vw");
        document.body.appendChild(snow);
        setTimeout(() => snow.remove(), 13000);
      }
    }

    createSnow();
    setInterval(createSnow, 9000);

    /* COUNTDOWN ƒê·∫æN NOEL (24/12 00:00) */
    const cdDays = document.getElementById("cd-days");
    const cdHours = document.getElementById("cd-hours");
    const cdMins = document.getElementById("cd-mins");
    const cdSecs = document.getElementById("cd-secs");

    function updateCountdown() {
      const now = new Date();
      const year = now.getFullYear();
      let target = new Date(year, 11, 24, 0, 0, 0); // 24/12
      if (now > target) {
        target = new Date(year + 1, 11, 24, 0, 0, 0);
      }

      const diff = target - now;
      const totalSeconds = Math.floor(diff / 1000);
      const days = Math.floor(totalSeconds / (3600 * 24));
      const hours = Math.floor((totalSeconds % (3600 * 24)) / 3600);
      const mins = Math.floor((totalSeconds % 3600) / 60);
      const secs = totalSeconds % 60;

      cdDays.textContent = String(days).padStart(2, "0");
      cdHours.textContent = String(hours).padStart(2, "0");
      cdMins.textContent = String(mins).padStart(2, "0");
      cdSecs.textContent = String(secs).padStart(2, "0");
    }

    updateCountdown();
    setInterval(updateCountdown, 1000);

    /* N√öT B·∫¨T/T·∫ÆT NH·∫†C */
    let isPlaying = false;

    // ƒë·∫∑t volume v·ª´a ph·∫£i
    bgMusic.volume = 0.7;

    musicToggle.addEventListener("click", () => {
      // log th·ª≠ cho ch·∫Øc l√† h√†m ƒë∆∞·ª£c ch·∫°y
      console.log("Toggle music, paused =", bgMusic.paused);

      if (!isPlaying) {
        const p = bgMusic.play();
        // n·∫øu tr√¨nh duy·ªát ch·∫∑n, ch·ªâ log l·ªói, kh√¥ng alert ho√†i
        if (p && typeof p.catch === "function") {
          p.catch((err) => {
            console.log("L·ªói khi play():", err);
            alert("Tr√¨nh duy·ªát ho·∫∑c tab ƒëang t·∫Øt ti·∫øng. H√£y b·∫≠t ti·∫øng cho trang r·ªìi b·∫•m l·∫°i n√∫t nh√©!");
          });
        }
        musicToggle.textContent = "üîá T·∫Øt nh·∫°c Noel";
        isPlaying = true;
      } else {
        bgMusic.pause();
        musicToggle.textContent = "üéµ B·∫≠t nh·∫°c Noel";
        isPlaying = false;
      }
    });
    const envelopes = document.querySelectorAll(".lucky-envelope");
    const qrModal = document.getElementById("qrModal");
    const qrMessage = document.getElementById("qrMessage");
    const closeQr = document.getElementById("closeQr");

    envelopes.forEach(env => {
      env.addEventListener("click", (e) => {
        e.stopPropagation();
        qrMessage.textContent = env.dataset.msg;
        qrModal.classList.add("active");
      });
    });

    closeQr.addEventListener("click", () => {
      qrModal.classList.remove("active");
    });

    qrModal.addEventListener("click", (e) => {
      if (e.target === qrModal) qrModal.classList.remove("active");
    });


  </script>
</body>

</html>
